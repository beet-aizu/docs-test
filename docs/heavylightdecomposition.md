---
title: Segment Tree
documentation_of: ./tree/heavylightdecomposition.cpp
---

## できること

HL分解では、木（あるいは森 ）上のパスを $O(\log N)$ 個に分割することができます。
分割後のパスに対して操作を行った後にマージし直すことで、操作を高速に行うことができます。

HL分解を使えるかどうかの条件は、載せるデータ構造（セグ木、BIT）等のみに依存します。
つまり、ある単純な（一直線に並んでいるような）要素列に対しての問題が $O(X)$ で解けるなら、
それが木の上のパスになった場合でも $O(X \log N)$ で解くことができます。

## 使い方

-   コンストラクタにグラフのサイズを渡します。
-   `add_edge(u,v)` で `u` と `v` の間に辺を貼ります。
-   `build()` で構築します。

頂点属性のクエリの場合は `for_each()` 、
辺属性のクエリの場合は `for_each_edge()` で処理します。
